<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Купить звёзды</title>
<style>
body {
  margin: 0;
  overflow: hidden;
  background: #000000;
  font-family: Arial, sans-serif;
  color: #fff;
}

.card {
  position: absolute;
  top: 20%;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(255,255,255,0.1);
  border-radius: 20px;
  padding: 30px 50px;
  text-align: center;
  backdrop-filter: blur(10px);
  z-index: 20;
}

.card h2 {
  font-size: 60px;
  margin-bottom: 15px;
}

.card p {
  font-size: 40px;
  margin-bottom: 20px;
}

.buttons button {
  background: #1c3faa;
  border: none;
  color: white;
  padding: 15px 25px;
  margin: 10px;
  border-radius: 10px;
  cursor: pointer;
  font-size: 50px;
}

.buttons button:hover {
  background: #335edb;
}

.vignette {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  pointer-events: none;
  z-index: 15;
  background: radial-gradient(circle at var(--vx) var(--vy), rgba(255,255,255,0.25) 0%, rgba(0,0,0,0.85) 150%);
  opacity: 0.4; /* фиксированная яркость */
}
@keyframes pulse {
  from { opacity: 0.1; }
  to   { opacity: 1.9; }
}

canvas { display: block; }
</style>
</head>
<body>

<div class="card">
  <h2>⭐ Купить звёзды</h2>
  <p>Выберите количество:</p>
  <div class="buttons">
    <button>100 ⭐</button>
    <button>500 ⭐</button>
    <button>1000 ⭐</button>
  </div>
</div>

<div class="vignette"></div>

<script src="https://cdn.jsdelivr.net/npm/three@0.153.0/build/three.min.js"></script>
<script>
// Сцена и камера
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
const renderer = new THREE.WebGLRenderer({alpha: true});
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// Свет
const light = new THREE.PointLight(0xffffff, 1);
light.position.set(50, 50, 50);
scene.add(light);
scene.add(new THREE.AmbientLight(0xffffff, 0.7));

// Золотой материал
const goldMaterial = new THREE.MeshStandardMaterial({color: 0xFFD700, metalness:0.8, roughness:0.3});

// Функция создания пятиконечной звезды
function createStarGeometry(size=1){
  const shape = new THREE.Shape();
  const outer = size;
  const inner = size*0.5;
  for(let i=0;i<5;i++){
    let theta = (i*2*Math.PI)/5 - Math.PI/2;
    let x = outer*Math.cos(theta);
    let y = outer*Math.sin(theta);
    if(i===0) shape.moveTo(x,y); else shape.lineTo(x,y);
    theta += Math.PI/5;
    x = inner*Math.cos(theta);
    y = inner*Math.sin(theta);
    shape.lineTo(x,y);
  }
  shape.closePath();
  const extrudeSettings = {depth:0.2, bevelEnabled:true, bevelThickness:0.05, bevelSize:0.05, bevelSegments:1};
  return new THREE.ExtrudeGeometry(shape, extrudeSettings);
}

// Создаём падающие звезды
const stars = [];
for(let i=0;i<40;i++){
  const geometry = createStarGeometry(0.8 + Math.random()*0.5);
  const star = new THREE.Mesh(geometry, goldMaterial);
  star.position.set(0, 0, 0);
  const theta = Math.random() * 2 * Math.PI;
const phi = Math.random() * Math.PI;
const speed = 0.2 + Math.random()*0.3;
star.velocity = new THREE.Vector3(
  speed * Math.sin(phi) * Math.cos(theta),
  speed * Math.sin(phi) * Math.sin(theta),
  speed * Math.cos(phi)
);
  star.rotationSpeed = Math.random()*0.02;
  star.fallSpeed = 0.1 + Math.random()*0.3;
  scene.add(star);
  stars.push(star);
}

camera.position.z = 50;

// Анимация
function animate(){
  requestAnimationFrame(animate);
  stars.forEach(star=>{
    star.rotation.x += star.rotationSpeed;
    star.rotation.y += star.rotationSpeed;
    star.position.add(star.velocity);
if(star.position.length() > 50){
  star.position.set(0, 0, 0); // возвращаем в центр после выхода за границу
}
  });
  renderer.render(scene, camera);
}
animate();

window.addEventListener('resize', ()=>{
  camera.aspect = window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});

// Центрирование виньетки
function updateVignetteCenter() {
  const card = document.querySelector('.card');
  const rect = card.getBoundingClientRect();
  const vx = rect.left + rect.width/2;
  const vy = rect.top + rect.height/2;
  document.querySelector('.vignette').style.setProperty('--vx', vx+'px');
  document.querySelector('.vignette').style.setProperty('--vy', vy+'px');
}
updateVignetteCenter();
window.addEventListener('resize', updateVignetteCenter);
</script>

</body>
</html>